<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🩺 AI 수의 분석 시스템 🐾</title>
    <!-- [수정] 웹사이트 경로에 맞게 '/Analysis/' 를 추가했습니다. -->
    <link rel="stylesheet" href="/Analysis/style.css">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>

    <div class="container">
        <header>
            <div class="logo">🩺🐾</div>
            <h1>AI 수의 분석 리포트 시스템</h1>
            <p>환자 정보와 검사 파일을 등록하면 Gemini AI가 리포트를 생성합니다.</p>
        </header>

        <form id="patient-form">
            <fieldset>
                <legend>✨ 환자 정보 입력</legend>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="patient-name">🐾 이름</label>
                        <input type="text" id="patient-name" required>
                    </div>
                    <div class="form-group">
                        <label for="species">🐕 종</label>
                        <select id="species">
                            <option value="개">개 (Dog)</option>
                            <option value="고양이">고양이 (Cat)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="breed">မျိုး 품종</label>
                        <input type="text" id="breed" list="breed-list" placeholder="품종을 입력하거나 선택">
                        <datalist id="breed-list"></datalist>
                    </div>
                    <div class="form-group age-group">
                        <label>🎂 나이</label>
                        <div>
                            <input type="number" id="age-years" min="0" placeholder="살">
                            <label for="age-years">년</label>
                            <input type="number" id="age-months" min="0" max="11" placeholder="개월">
                            <label for="age-months">개월</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>⚧️ 성별</label>
                        <div class="radio-group">
                            <input type="radio" id="male" name="sex" value="남" checked> <label for="male">남</label>
                            <input type="radio" id="female" name="sex" value="여"> <label for="female">여</label>
                            <input type="checkbox" id="neutered"> <label for="neutered">중성화</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="weight">⚖️ 체중 (kg)</label>
                        <input type="number" id="weight" step="0.01" min="0" placeholder="예: 5.25">
                    </div>
                     <div class="form-group">
                        <label for="visit-date">🗓️ 검진일</label>
                        <input type="date" id="visit-date" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="special-notes">📝 특이사항</label>
                    <textarea id="special-notes" rows="2" placeholder="주요 증상, 과거 병력 등"></textarea>
                </div>
                 <div class="form-group">
                    <label for="dental-findings">🦷 치과 소견 (수의사)</label>
                    <textarea id="dental-findings" rows="2" placeholder="원장님 진단 소견 (예: 104 치주염)"></textarea>
                </div>
            </fieldset>

            <fieldset>
                <legend>📂 검사 파일 등록</legend>
                <div class="file-upload-grid">
                    <div class="form-group">
                        <label for="image-files" class="file-upload-label">🖼️ 이미지 파일 (사진/엑스레이)</label>
                        <input type="file" id="image-files" accept="image/*" multiple>
                        <div id="image-file-list" class="file-list"></div>
                    </div>
                    <div class="form-group">
                        <label for="audio-files" class="file-upload-label">🎵 오디오 파일 (청진)</label>
                        <input type="file" id="audio-files" accept="audio/*" multiple>
                        <div id="audio-file-list" class="file-list"></div>
                    </div>
                    <div class="form-group">
                        <label for="excel-file" class="file-upload-label">📊 엑셀 파일 (혈액검사)</label>
                        <input type="file" id="excel-file" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                        <div id="excel-file-list" class="file-list"></div>
                    </div>
                </div>
            </fieldset>

            <button type="submit" id="analyze-btn">🚀 AI 분석 시작 🚀</button>
        </form>

        <div id="loader" class="hidden">
            <div class="spinner"></div>
            <p>Gemini AI가 리포트를 생성 중입니다. 잠시만 기다려주세요...</p>
        </div>

        <div id="results-container" class="hidden">
            <div class="tabs">
                <button class="tab-link active" onclick="switchTab(event, 'vet-report')">👨‍⚕️ 수의사용 리포트</button>
                <button class="tab-link" onclick="switchTab(event, 'owner-report')">❤️ 보호자용 리포트</button>
            </div>
            <div id="vet-report" class="tab-content active"></div>
            <div id="owner-report" class="tab-content"></div>
        </div>
    </div>

    <!-- [수정] 웹사이트 경로에 맞게 '/Analysis/' 를 추가했습니다. -->
    <script src="/Analysis/script.js"></script>
</body>
</html>
